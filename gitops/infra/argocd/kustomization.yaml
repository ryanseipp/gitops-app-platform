apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: argocd
resources:
  - ./namespace.yaml
  - ./infra-project.yaml
  - ./infra-appset.yaml
  - ./apps-project.yaml
  - ./apps-appset.yaml
  - ./httproute.yaml
  - helm/argo-cd/charts/redis-ha/templates/redis-ha-announce-service.yaml
  - helm/argo-cd/charts/redis-ha/templates/redis-ha-configmap.yaml
  - helm/argo-cd/charts/redis-ha/templates/redis-ha-health-configmap.yaml
  - helm/argo-cd/charts/redis-ha/templates/redis-haproxy-deployment.yaml
  - helm/argo-cd/charts/redis-ha/templates/redis-haproxy-rolebinding.yaml
  - helm/argo-cd/charts/redis-ha/templates/redis-haproxy-role.yaml
  - helm/argo-cd/charts/redis-ha/templates/redis-haproxy-serviceaccount.yaml
  - helm/argo-cd/charts/redis-ha/templates/redis-haproxy-service.yaml
  - helm/argo-cd/charts/redis-ha/templates/redis-ha-rolebinding.yaml
  - helm/argo-cd/charts/redis-ha/templates/redis-ha-role.yaml
  - helm/argo-cd/charts/redis-ha/templates/redis-ha-serviceaccount.yaml
  - helm/argo-cd/charts/redis-ha/templates/redis-ha-service.yaml
  - helm/argo-cd/charts/redis-ha/templates/redis-ha-statefulset.yaml
  - helm/argo-cd/charts/redis-ha/templates/tests/test-redis-ha-configmap.yaml
  - helm/argo-cd/charts/redis-ha/templates/tests/test-redis-ha-pod.yaml
  - helm/argo-cd/templates/argocd-application-controller/clusterrolebinding.yaml
  - helm/argo-cd/templates/argocd-application-controller/clusterrole.yaml
  - helm/argo-cd/templates/argocd-application-controller/rolebinding.yaml
  - helm/argo-cd/templates/argocd-application-controller/role.yaml
  - helm/argo-cd/templates/argocd-application-controller/serviceaccount.yaml
  - helm/argo-cd/templates/argocd-application-controller/statefulset.yaml
  - helm/argo-cd/templates/argocd-applicationset/deployment.yaml
  - helm/argo-cd/templates/argocd-applicationset/rolebinding.yaml
  - helm/argo-cd/templates/argocd-applicationset/role.yaml
  - helm/argo-cd/templates/argocd-applicationset/serviceaccount.yaml
  - helm/argo-cd/templates/argocd-applicationset/service.yaml
  - helm/argo-cd/templates/argocd-configs/argocd-cmd-params-cm.yaml
  - helm/argo-cd/templates/argocd-configs/argocd-cm.yaml
  - helm/argo-cd/templates/argocd-configs/argocd-gpg-keys-cm.yaml
  - helm/argo-cd/templates/argocd-configs/argocd-notifications-cm.yaml
  - helm/argo-cd/templates/argocd-configs/argocd-notifications-secret.yaml
  - helm/argo-cd/templates/argocd-configs/argocd-rbac-cm.yaml
  - helm/argo-cd/templates/argocd-configs/argocd-secret.yaml
  - helm/argo-cd/templates/argocd-configs/argocd-ssh-known-hosts-cm.yaml
  - helm/argo-cd/templates/argocd-configs/argocd-tls-certs-cm.yaml
  - helm/argo-cd/templates/argocd-notifications/clusterrolebinding.yaml
  - helm/argo-cd/templates/argocd-notifications/clusterrole.yaml
  - helm/argo-cd/templates/argocd-notifications/deployment.yaml
  - helm/argo-cd/templates/argocd-notifications/rolebinding.yaml
  - helm/argo-cd/templates/argocd-notifications/role.yaml
  - helm/argo-cd/templates/argocd-notifications/serviceaccount.yaml
  - helm/argo-cd/templates/argocd-repo-server/deployment.yaml
  - helm/argo-cd/templates/argocd-repo-server/hpa.yaml
  - helm/argo-cd/templates/argocd-repo-server/rolebinding.yaml
  - helm/argo-cd/templates/argocd-repo-server/role.yaml
  - helm/argo-cd/templates/argocd-repo-server/serviceaccount.yaml
  - helm/argo-cd/templates/argocd-repo-server/service.yaml
  - helm/argo-cd/templates/argocd-server/clusterrolebinding.yaml
  - helm/argo-cd/templates/argocd-server/clusterrole.yaml
  - helm/argo-cd/templates/argocd-server/deployment.yaml
  - helm/argo-cd/templates/argocd-server/hpa.yaml
  - helm/argo-cd/templates/argocd-server/ingress.yaml
  - helm/argo-cd/templates/argocd-server/rolebinding.yaml
  - helm/argo-cd/templates/argocd-server/role.yaml
  - helm/argo-cd/templates/argocd-server/serviceaccount.yaml
  - helm/argo-cd/templates/argocd-server/service.yaml
  - helm/argo-cd/templates/crds/crd-applicationset.yaml
  - helm/argo-cd/templates/crds/crd-application.yaml
  - helm/argo-cd/templates/crds/crd-project.yaml
  - helm/argo-cd/templates/dex/deployment.yaml
  - helm/argo-cd/templates/dex/rolebinding.yaml
  - helm/argo-cd/templates/dex/role.yaml
  - helm/argo-cd/templates/dex/serviceaccount.yaml
  - helm/argo-cd/templates/dex/service.yaml
  - helm/argo-cd/templates/redis-secret-init/job.yaml
  - helm/argo-cd/templates/redis-secret-init/rolebinding.yaml
  - helm/argo-cd/templates/redis-secret-init/role.yaml
  - helm/argo-cd/templates/redis-secret-init/serviceaccount.yaml
# crane digest <image>:<tag>
# Ensure all images created have immutable images, thanks to digests
images:
  - digest: sha256:51abf85651c33cfd0645d72e0877eeeae187bb404d4641ec47caa1921c9750be
    name: quay.io/argoproj/argocd
  - digest: sha256:b08a58c9731c693b8db02154d7afda798e1888dc76db30d34c4a0d0b8a26d913
    name: ghcr.io/dexidp/dex
  - digest: sha256:e11f034e651603f10a365e5ad5a0321825e18eded9620e40c4f4d6ae58419bfe
    name: public.ecr.aws/docker/library/haproxy
  - digest: sha256:ddd16a9b1575a774c7e62956be8daa1de5b32cfb5c25b7a216aefed8e0919f9b
    name: public.ecr.aws/docker/library/redis
