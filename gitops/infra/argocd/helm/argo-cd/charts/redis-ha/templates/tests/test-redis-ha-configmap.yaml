---
# Source: argo-cd/charts/redis-ha/templates/tests/test-redis-ha-configmap.yaml
apiVersion: v1
kind: Pod
metadata:
  name: argocd-redis-ha-configmap-test
  namespace: "kube-system"
  labels:
    app: redis-ha
    heritage: "Helm"
    release: "argocd"
    chart: redis-ha-4.33.7
  annotations:
    "helm.sh/hook": test-success
spec:
  nodeSelector: {}
  tolerations: []
  containers:
    - name: check-init
      image: koalaman/shellcheck:v0.10.0
      args:
        - --shell=sh
        - /readonly-config/init.sh
      volumeMounts:
        - name: config
          mountPath: /readonly-config
          readOnly: true
      resources: {}
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
            - ALL
        readOnlyRootFilesystem: true
        runAsNonRoot: true
        runAsUser: 1000
        seccompProfile:
          type: RuntimeDefault
  restartPolicy: Never
  volumes:
    - name: config
      configMap:
        name: argocd-redis-ha-configmap
